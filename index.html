<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <!-- Enhanced viewport for better mobile compatibility -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=yes, minimum-scale=1, maximum-scale=5">
  
  <!-- Performance and compatibility meta tags -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="format-detection" content="telephone=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="XemPhim">
  
  <!-- Theme colors for different browsers -->
  <meta name="theme-color" content="#0f0f12">
  <meta name="msapplication-navbutton-color" content="#0f0f12">
  <meta name="apple-mobile-web-app-status-bar-style" content="#0f0f12">
  
  <!-- DNS prefetch for performance -->
  <link rel="dns-prefetch" href="https://phimapi.com">
  <link rel="dns-prefetch" href="https://phimimg.com">
  <link rel="dns-prefetch" href="https://wsrv.nl">
  <link rel="dns-prefetch" href="https://images.weserv.nl">
  <link rel="dns-prefetch" href="https://i0.wp.com">
  
  <!-- PWA Configuration -->
  <link rel="manifest" href="simple-manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="XemPhim">
  <meta name="msapplication-TileColor" content="#6c5ce7">
  <meta name="msapplication-TileImage" content="assets/icons/icon-144x144.png">
  
  <title>üé¨ XemPhim - Website Xem Phim Online</title>
  <meta name="description" content="Website xem phim online v·ªõi giao di·ªán ƒë·∫πp, t·ªëc ƒë·ªô nhanh. H·ªó tr·ª£ t·∫•t c·∫£ thi·∫øt b·ªã v√† tr√¨nh duy·ªát. C√≥ th·ªÉ c√†i ƒë·∫∑t nh∆∞ ·ª©ng d·ª•ng.">
  <meta name="keywords" content="xem phim online, phim hay, anime, HvPhim, phim b·ªô, phim l·∫ª, ho·∫°t h√¨nh, vietsub, PWA, web app">
  <meta name="author" content="NGUYEN HOAI VU">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%236c5ce7' rx='4'/%3E%3Crect x='8' y='6' width='16' height='12' fill='%23fff' rx='2'/%3E%3Ccircle cx='16' cy='24' r='3' fill='%23fff'/%3E%3Cpolygon points='14,22 14,26 18,24' fill='%236c5ce7'/%3E%3C/svg%3E">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://rottriThuc.github.io/phimhv.github.io/">
  <meta property="og:title" content="üé¨ Website xem phim - H.V≈© deep try">
  <meta property="og:description" content="Website xem phim deep try">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://rottriThuc.github.io/phimhv.github.io/">
  <meta property="twitter:title" content="üé¨ Website xem phim - H.V≈© deep try">
  <meta property="twitter:description" content="Website xem phim deep try">
  
  <link rel="preconnect" href="https://phimapi.com">
  <link rel="preconnect" href="https://phimimg.com">
  <link rel="stylesheet" href="./assets/styles.css">
</head>
<body class="theme-dark">
  <noscript>Vui l√≤ng b·∫≠t JavaScript ƒë·ªÉ s·ª≠ d·ª•ng website.</noscript>

  <header class="header">
    <div class="container header__inner">
      <!-- Main header row -->
      <div class="header__main">
        <button class="brand" id="homeBtn" aria-label="V·ªÅ trang ch·ªß">
          <span class="brand__icon">üé¨</span>
          <span class="brand__text">XemPhim</span>
        </button>

        <form id="searchForm" class="search" role="search" aria-label="T√¨m ki·∫øm phim">
          <input id="searchInput" class="search__input" type="search" placeholder="T√¨m ki·∫øm phim..." autocomplete="off"/>
          <button class="search__btn" type="submit" aria-label="T√¨m ki·∫øm">
            <span>üîç</span>
          </button>
        </form>

        <div class="header__actions">
          <button id="themeToggle" class="theme-toggle" aria-label="ƒê·ªïi giao di·ªán">üåô</button>
          <a href="#/phim-da-luu" class="nav__link nav__link--primary">‚ù§Ô∏è Phim ƒë√£ l∆∞u</a>
          <a href="#/the-loai" class="nav__link nav__link--primary">üìã Th·ªÉ lo·∫°i</a>
        </div>
      </div>

      <!-- Quick nav row -->
      <div class="header__nav">
        <nav class="nav nav--quick">
          <button class="nav__btn" data-quick="hoat-hinh">Ho·∫°t h√¨nh</button>
          <button class="nav__btn" data-quick="phim-bo">Phim b·ªô</button>
          <button class="nav__btn" data-quick="phim-le">Phim l·∫ª</button>
          <button class="nav__btn" data-quick="tv-shows">TV Shows</button>
        </nav>
        
        <div class="filters">
          <select id="countrySelect" class="select select--compact">
            <option value="">Qu·ªëc gia</option>
          </select>
          <select id="yearSelect" class="select select--compact">
            <option value="">NƒÉm</option>
          </select>
        </div>
      </div>
    </div>
  </header>

  <main id="app" class="container app" aria-live="polite"></main>

  <footer class="footer">
    <div class="container">
      <p>Ho√†i V≈© <a href="https://www.facebook.com/hoai.vu.492770/" target="_blank" rel="noopener noreferrer">ƒë·∫πp trai</a>. Trang web ch·ªâ l√†m ch∆°i cho vui.</p>
    </div>
  </footer>

  <!-- Browser Compatibility - Load in order -->
  <script src="./assets/polyfills.js"></script>
  <script src="./assets/es5-helpers.js"></script>
  
  <!-- Image Loading Fix Notification -->
  <script src="./assets/image-fix-notification.js"></script>
  
  <!-- PWA Components -->
  <script src="./simple-pwa-install.js"></script>
  <script src="./assets/generate-pwa-icons.js"></script>
  
  <!-- Legacy browser support -->
  <!--[if lt IE 10]>
    <style>
      .header { position: fixed !important; }
      .app { margin-top: 120px !important; }
      .grid { display: block !important; }
      .card { display: inline-block !important; width: 48% !important; margin: 1% !important; }
    </style>
  <![endif]-->
  
  <script src="./firebase-config.js"></script>
  <link rel="stylesheet" href="./movie-comments.css">
  
  <!-- Service Worker Registration -->
  <script>
    // Register Simple Service Worker for PWA
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/simple-sw.js')
          .then((registration) => {
            console.log('üéâ Simple SW registered:', registration);
          })
          .catch((registrationError) => {
            console.log('‚ùå Simple SW registration failed:', registrationError);
          });
      });
    } else {
      console.warn('‚ö†Ô∏è Service Workers not supported in this browser');
    }
  </script>

  <!-- Progressive app loading -->
  <script>
    // Determine loading strategy based on browser capabilities
    function loadApp() {
      var useModule = 'noModule' in HTMLScriptElement.prototype && 
                     window.supportsFeature && 
                     window.supportsFeature.es6();
      
      var script = document.createElement('script');
      
                    if (useModule) {
         // Modern browsers - use ES6 modules
         script.type = 'module';
          script.src = './assets/app.js?v=2025012323';
       } else {
         // Fallback for older browsers
          script.src = './assets/app.js?v=2025012323';
        script.setAttribute('nomodule', '');
      }
      
      script.onerror = function() {
        // Fallback if main script fails
        console.warn('Main app failed to load, using basic functionality');
        document.getElementById('app').innerHTML = 
          '<div style="text-align:center;padding:40px;color:var(--muted);">' +
          '<h3>‚ö†Ô∏è Tr√¨nh duy·ªát kh√¥ng ƒë∆∞·ª£c h·ªó tr·ª£ ƒë·∫ßy ƒë·ªß</h3>' +
          '<p>Vui l√≤ng c·∫≠p nh·∫≠t tr√¨nh duy·ªát ƒë·ªÉ c√≥ tr·∫£i nghi·ªám t·ªët nh·∫•t.</p>' +
          '</div>';
      };
      
      document.head.appendChild(script);
    }
    
    // Load when helpers are ready
    if (window.supportsFeature) {
      loadApp();
    } else {
      // Wait for helpers to load
      setTimeout(loadApp, 100);
    }
  </script>
</body>
</html> 