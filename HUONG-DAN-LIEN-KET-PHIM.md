# ğŸ¬ HÆ°á»›ng Dáº«n TÃ­nh NÄƒng LiÃªn Káº¿t Giá»¯a CÃ¡c Pháº§n Phim

## ğŸ“– Tá»•ng Quan

TÃ­nh nÄƒng **Series Navigator** cho phÃ©p ngÆ°á»i dÃ¹ng dá»… dÃ ng chuyá»ƒn Ä‘á»•i giá»¯a cÃ¡c pháº§n khÃ¡c nhau cá»§a cÃ¹ng má»™t bá»™ phim (vÃ­ dá»¥: Pháº§n 1, Pháº§n 2, v.v.).

## âœ¨ TÃ­nh NÄƒng ChÃ­nh

### 1. **Tá»± Äá»™ng Nháº­n Diá»‡n CÃ¡c Pháº§n Phim**
Há»‡ thá»‘ng tá»± Ä‘á»™ng nháº­n diá»‡n phim cÃ³ nhiá»u pháº§n dá»±a trÃªn tÃªn phim:
- âœ… `Huyá»n Thoáº¡i La TiÃªu Hoáº¯c (Pháº§n 2)` â† Tá»± Ä‘á»™ng nháº­n diá»‡n lÃ  Pháº§n 2
- âœ… `Huyá»n Thoáº¡i La TiÃªu Hoáº¯c (Season 2)` â† Tá»± Ä‘á»™ng nháº­n diá»‡n lÃ  Season 2
- âœ… `Huyá»n Thoáº¡i La TiÃªu Hoáº¯c - Pháº§n 2` â† CÅ©ng Ä‘Æ°á»£c nháº­n diá»‡n
- âœ… `The Legend Of Hei (Season 2)` â† Há»— trá»£ tÃªn tiáº¿ng Anh

### 2. **Hiá»ƒn Thá»‹ Navigator TrÃªn Trang Chi Tiáº¿t**
Khi xem chi tiáº¿t má»™t phim cÃ³ nhiá»u pháº§n, sáº½ cÃ³ má»™t khung hiá»ƒn thá»‹:

```
ğŸ¬ CÃ¡c pháº§n trong series                    [ğŸ”„]
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Huyá»n Thoáº¡i La TiÃªu Hoáº¯c

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pháº§n 1    â”‚  â”‚  Pháº§n 2    â”‚  â”‚  Pháº§n 3    â”‚
â”‚  Táº­p 15/15 â”‚  â”‚  Táº­p 8/8   â”‚  â”‚  Sáº¯p ra    â”‚
â”‚  2019      â”‚  â”‚  2025      â”‚  â”‚  2026      â”‚
â”‚            â”‚  â”‚â— Äang xem  â”‚  â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. **Navigator Nhá» Gá»n Khi Äang Xem Phim**
Khi Ä‘ang xem phim, cÃ³ navigator nhá» gá»n á»Ÿ phÃ­a trÃªn:
```
CÃ¡c pháº§n khÃ¡c:  [Pháº§n 1]  [Pháº§n 3]  [Pháº§n 4]
```

### 4. **NÃºt LÃ m Má»›i**
- Nháº¥n nÃºt ğŸ”„ Ä‘á»ƒ kiá»ƒm tra xem cÃ³ pháº§n má»›i khÃ´ng
- Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng cáº­p nháº­t danh sÃ¡ch

## ğŸ¯ CÃ¡ch Sá»­ Dá»¥ng

### Äá»‘i Vá»›i NgÆ°á»i DÃ¹ng:

1. **Xem trang chi tiáº¿t phim**
   - Truy cáº­p báº¥t ká»³ phim nÃ o cÃ³ nhiá»u pháº§n (vÃ­ dá»¥: Huyá»n Thoáº¡i La TiÃªu Hoáº¯c)
   - Cuá»™n xuá»‘ng dÆ°á»›i thÃ´ng tin phim
   - Sáº½ tháº¥y khung "ğŸ¬ CÃ¡c pháº§n trong series"

2. **Chuyá»ƒn Ä‘á»•i giá»¯a cÃ¡c pháº§n**
   - Click vÃ o báº¥t ká»³ pháº§n nÃ o trong navigator
   - Trang sáº½ chuyá»ƒn sang trang chi tiáº¿t cá»§a pháº§n Ä‘Ã³
   - Navigator sáº½ tá»± Ä‘á»™ng cáº­p nháº­t

3. **Kiá»ƒm tra pháº§n má»›i**
   - Click nÃºt ğŸ”„ á»Ÿ gÃ³c pháº£i
   - Há»‡ thá»‘ng sáº½ tÃ¬m kiáº¿m pháº§n má»›i
   - Náº¿u cÃ³ pháº§n má»›i, navigator sáº½ cáº­p nháº­t vÃ  hiá»ƒn thá»‹ thÃ´ng bÃ¡o

### Äá»‘i Vá»›i Quáº£n Trá»‹:

1. **ThÃªm phim má»›i vÃ o series**
   - Äáº·t tÃªn phim theo format: `TÃªn Series (Pháº§n X)` hoáº·c `TÃªn Series (Season X)`
   - VÃ­ dá»¥: `Huyá»n Thoáº¡i La TiÃªu Hoáº¯c (Pháº§n 3)`
   - Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng liÃªn káº¿t vá»›i cÃ¡c pháº§n khÃ¡c

2. **Format tÃªn phim Ä‘Æ°á»£c há»— trá»£**
   ```
   âœ… TÃªn Phim (Pháº§n 2)
   âœ… TÃªn Phim (Season 2)
   âœ… TÃªn Phim - Pháº§n 2
   âœ… TÃªn Phim - Season 2
   âœ… Movie Name (Season 2)
   ```

## ğŸ”§ Ká»¹ Thuáº­t Chi Tiáº¿t

### Cáº¥u trÃºc thÆ° má»¥c:
```
phimhv.github.io-main/
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ series-navigator.js      # Logic chÃ­nh
â”‚   â””â”€â”€ series-update-manager.js # Quáº£n lÃ½ cáº­p nháº­t
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ series-navigator.css     # Styles cho UI
â””â”€â”€ assets/app.js               # TÃ­ch há»£p vÃ o app chÃ­nh
```

### CÃ¡c function chÃ­nh:

1. **`getSeriesBaseInfo(movie)`**
   - PhÃ¢n tÃ­ch tÃªn phim Ä‘á»ƒ extract thÃ´ng tin series
   - Tráº£ vá»: `{ seriesId, season, baseName }`

2. **`findRelatedSeasons(movie, api, extractItems)`**
   - TÃ¬m kiáº¿m cÃ¡c pháº§n liÃªn quan
   - Sá»­ dá»¥ng API search vá»›i tÃªn series
   - Lá»c vÃ  sáº¯p xáº¿p theo sá»‘ pháº§n

3. **`createSeriesNavigator(movie, relatedSeasons, createEl)`**
   - Táº¡o UI navigator
   - Hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c pháº§n
   - Highlight pháº§n Ä‘ang xem

4. **`getCachedRelatedSeasons(movie, api, extractItems, forceRefresh)`**
   - Láº¥y danh sÃ¡ch pháº§n vá»›i caching (5 phÃºt)
   - TÃ­ch há»£p auto-update tracking

## ğŸ“Š VÃ­ Dá»¥ Thá»±c Táº¿

### VÃ­ dá»¥: Huyá»n Thoáº¡i La TiÃªu Hoáº¯c

**Pháº§n 1:**
- TÃªn: `Huyá»n Thoáº¡i La TiÃªu Hoáº¯c`
- TÃªn gá»‘c: `The Legend Of Hei`
- Slug: `huyen-thoai-la-tieu-hoac`
- NÄƒm: 2019
- Táº­p: Full

**Pháº§n 2:**
- TÃªn: `Huyá»n Thoáº¡i La TiÃªu Hoáº¯c 2 (La TiÃªu Háº¯c...)`
- TÃªn gá»‘c: `The Legend Of Hei (Season 2)`
- Slug: `huyen-thoai-la-tieu-hoac-2`
- NÄƒm: 2025
- Táº­p: 15/15 (Ä‘ang cáº­p nháº­t)

Khi xem báº¥t ká»³ pháº§n nÃ o, navigator sáº½ hiá»ƒn thá»‹ cáº£ 2 pháº§n vÃ  cho phÃ©p chuyá»ƒn Ä‘á»•i dá»… dÃ ng.

## ğŸ¨ TÃ¹y Chá»‰nh Giao Diá»‡n

### MÃ u sáº¯c:
```css
/* Trong series-navigator.css */
.series-navigator {
  --primary: #6c5ce7;        /* MÃ u chÃ­nh */
  --background: #636e72;     /* MÃ u ná»n item */
  --surface: #2d3436;        /* MÃ u ná»n container */
}
```

### Responsive:
- Desktop: Grid 3-4 cá»™t
- Tablet: Grid 2-3 cá»™t
- Mobile: Grid 1-2 cá»™t

## ğŸ” Troubleshooting

### Váº¥n Ä‘á»: Navigator khÃ´ng hiá»ƒn thá»‹
**Giáº£i phÃ¡p:**
1. Kiá»ƒm tra tÃªn phim cÃ³ Ä‘Ãºng format khÃ´ng
2. Kiá»ƒm tra file CSS Ä‘Ã£ Ä‘Æ°á»£c load chÆ°a
3. Má»Ÿ Console Ä‘á»ƒ xem log debug

### Váº¥n Ä‘á»: KhÃ´ng tÃ¬m tháº¥y pháº§n khÃ¡c
**Giáº£i phÃ¡p:**
1. Kiá»ƒm tra tÃªn series cÃ³ giá»‘ng nhau khÃ´ng
2. Thá»­ search thá»§ cÃ´ng vá»›i tÃªn series
3. Kiá»ƒm tra API cÃ³ tráº£ vá» káº¿t quáº£ khÃ´ng

### Váº¥n Ä‘á»: Hiá»ƒn thá»‹ sai sá»‘ pháº§n
**Giáº£i phÃ¡p:**
1. Kiá»ƒm tra format tÃªn: pháº£i cÃ³ "Pháº§n X" hoáº·c "Season X"
2. Sá»‘ pháº§n pháº£i lÃ  sá»‘ nguyÃªn dÆ°Æ¡ng
3. Xem log trong Console Ä‘á»ƒ debug

## ğŸ“ API Reference

### `getSeriesBaseInfo(movie)`
```javascript
// Input
const movie = {
  name: "Huyá»n Thoáº¡i La TiÃªu Hoáº¯c (Pháº§n 2)",
  slug: "huyen-thoai-la-tieu-hoac-2"
};

// Output
{
  seriesId: "Huyá»n Thoáº¡i La TiÃªu Hoáº¯c_SERIES",
  season: 2,
  baseName: "Huyá»n Thoáº¡i La TiÃªu Hoáº¯c",
  method: "manual_pattern_1"
}
```

### `findRelatedSeasons(currentMovie, api, extractItems)`
```javascript
// Returns array of related movies
[
  {
    name: "Huyá»n Thoáº¡i La TiÃªu Hoáº¯c",
    seriesInfo: { season: 1, ... }
  },
  {
    name: "Huyá»n Thoáº¡i La TiÃªu Hoáº¯c (Pháº§n 2)",
    seriesInfo: { season: 2, ... }
  }
]
```

## ğŸš€ Performance

### Caching:
- Cache duration: 5 phÃºt
- Sá»­ dá»¥ng Map Ä‘á»ƒ lÆ°u cache
- Auto-invalidate khi cÃ³ update

### Tá»‘i Æ°u:
- Lazy load series navigator
- Only fetch when needed
- Debounce refresh button

## ğŸ“– TÃ i Liá»‡u ThÃªm

- [SERIES-NAVIGATOR-DOCS.md](./SERIES-NAVIGATOR-DOCS.md) - Documentation chi tiáº¿t
- [AUTO-UPDATE-SYSTEM-DOCS.md](./AUTO-UPDATE-SYSTEM-DOCS.md) - Há»‡ thá»‘ng auto-update

## ğŸ¤ ÄÃ³ng GÃ³p

Náº¿u phÃ¡t hiá»‡n bug hoáº·c cÃ³ Ã½ tÆ°á»Ÿng cáº£i thiá»‡n, vui lÃ²ng:
1. Má»Ÿ Issue trÃªn GitHub
2. MÃ´ táº£ chi tiáº¿t váº¥n Ä‘á»
3. ÄÃ­nh kÃ¨m screenshot náº¿u cÃ³

---

Made with â¤ï¸ by H.VÅ© Team
