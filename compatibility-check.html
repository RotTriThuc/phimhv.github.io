<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ki·ªÉm tra t∆∞∆°ng th√≠ch tr√¨nh duy·ªát - XemPhim</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
      color: #333;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .feature-check {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid #eee;
    }
    
    .feature-name {
      font-weight: 500;
    }
    
    .status {
      padding: 4px 12px;
      border-radius: 20px;
      color: white;
      font-size: 12px;
      font-weight: bold;
    }
    
    .supported {
      background: #4CAF50;
    }
    
    .partial {
      background: #FF9800;
    }
    
    .not-supported {
      background: #F44336;
    }
    
    .overall-score {
      margin: 30px 0;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      font-size: 18px;
      font-weight: bold;
    }
    
    .score-excellent {
      background: #E8F5E8;
      color: #2E7D32;
      border: 2px solid #4CAF50;
    }
    
    .score-good {
      background: #FFF3E0;
      color: #E65100;
      border: 2px solid #FF9800;
    }
    
    .score-poor {
      background: #FFEBEE;
      color: #C62828;
      border: 2px solid #F44336;
    }
    
    .recommendations {
      margin-top: 30px;
      padding: 20px;
      background: #F3E5F5;
      border-radius: 8px;
      border-left: 4px solid #9C27B0;
    }
    
    .browser-info {
      margin-top: 20px;
      padding: 15px;
      background: #E3F2FD;
      border-radius: 8px;
      border-left: 4px solid #2196F3;
    }
    
    .btn {
      display: inline-block;
      padding: 12px 24px;
      background: #6c5ce7;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      margin: 10px 5px;
      transition: background 0.2s;
    }
    
    .btn:hover {
      background: #584bd0;
    }
    
    .btn-secondary {
      background: #95a5a6;
    }
    
    .btn-secondary:hover {
      background: #7f8c8d;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üé¨ Ki·ªÉm tra t∆∞∆°ng th√≠ch tr√¨nh duy·ªát</h1>
      <p>Ki·ªÉm tra xem tr√¨nh duy·ªát c·ªßa b·∫°n c√≥ h·ªó tr·ª£ ƒë·∫ßy ƒë·ªß website XemPhim kh√¥ng</p>
    </div>
    
    <div id="browser-info" class="browser-info">
      <h3>Th√¥ng tin tr√¨nh duy·ªát:</h3>
      <div id="browser-details"></div>
    </div>
    
    <div id="feature-checks">
      <h3>Ki·ªÉm tra t√≠nh nƒÉng:</h3>
      <!-- Features will be dynamically added here -->
    </div>
    
    <div id="overall-score" class="overall-score">
      <!-- Overall score will be displayed here -->
    </div>
    
    <div id="recommendations" class="recommendations" style="display: none;">
      <h3>üîß Khuy·∫øn ngh·ªã:</h3>
      <div id="recommendation-text"></div>
    </div>
    
    <div style="text-align: center; margin-top: 30px;">
      <a href="index.html" class="btn">Ti·∫øp t·ª•c v√†o trang ch√≠nh</a>
      <a href="#" class="btn btn-secondary" onclick="window.location.reload()">Ki·ªÉm tra l·∫°i</a>
    </div>
  </div>

  <script>
    // Feature detection functions
    var features = [
      {
        name: 'CSS Grid',
        check: function() {
          return CSS && CSS.supports && CSS.supports('display', 'grid');
        },
        importance: 'high'
      },
      {
        name: 'CSS Flexbox',
        check: function() {
          return CSS && CSS.supports && CSS.supports('display', 'flex');
        },
        importance: 'high'
      },
      {
        name: 'CSS Custom Properties',
        check: function() {
          return CSS && CSS.supports && CSS.supports('color', 'var(--test)');
        },
        importance: 'medium'
      },
      {
        name: 'ES6 Arrow Functions',
        check: function() {
          try {
            new Function('(a = 0) => a');
            return true;
          } catch (err) {
            return false;
          }
        },
        importance: 'high'
      },
      {
        name: 'Fetch API',
        check: function() {
          return 'fetch' in window;
        },
        importance: 'high'
      },
      {
        name: 'Promise',
        check: function() {
          return 'Promise' in window;
        },
        importance: 'high'
      },
      {
        name: 'IntersectionObserver',
        check: function() {
          return 'IntersectionObserver' in window;
        },
        importance: 'medium'
      },
      {
        name: 'Local Storage',
        check: function() {
          try {
            localStorage.setItem('test', 'test');
            localStorage.removeItem('test');
            return true;
          } catch (e) {
            return false;
          }
        },
        importance: 'medium'
      },
      {
        name: 'JSON Support',
        check: function() {
          return typeof JSON !== 'undefined' && JSON.parse && JSON.stringify;
        },
        importance: 'high'
      },
      {
        name: 'addEventListener',
        check: function() {
          return 'addEventListener' in window;
        },
        importance: 'high'
      },
      {
        name: 'querySelector',
        check: function() {
          return 'querySelector' in document;
        },
        importance: 'high'
      },
      {
        name: 'classList',
        check: function() {
          return 'classList' in document.createElement('div');
        },
        importance: 'medium'
      }
    ];

    // Browser detection
    function getBrowserInfo() {
      var ua = navigator.userAgent;
      var browser = 'Unknown';
      var version = 'Unknown';
      var mobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua);
      
      if (ua.indexOf('Chrome') > -1) {
        browser = 'Chrome';
        version = ua.match(/Chrome\/(\d+)/)[1];
      } else if (ua.indexOf('Firefox') > -1) {
        browser = 'Firefox';
        version = ua.match(/Firefox\/(\d+)/)[1];
      } else if (ua.indexOf('Safari') > -1) {
        browser = 'Safari';
        version = ua.match(/Version\/(\d+)/)[1];
      } else if (ua.indexOf('Edge') > -1) {
        browser = 'Edge';
        version = ua.match(/Edge\/(\d+)/)[1];
      } else if (ua.indexOf('MSIE') > -1 || ua.indexOf('Trident') > -1) {
        browser = 'Internet Explorer';
        var match = ua.match(/(?:MSIE |Trident.*rv:)(\d+)/);
        version = match ? match[1] : 'Unknown';
      }
      
      return {
        browser: browser,
        version: version,
        mobile: mobile,
        userAgent: ua
      };
    }

    // Display browser info
    function displayBrowserInfo() {
      var info = getBrowserInfo();
      var container = document.getElementById('browser-details');
      
      container.innerHTML = 
        '<strong>Tr√¨nh duy·ªát:</strong> ' + info.browser + ' ' + info.version + '<br>' +
        '<strong>Thi·∫øt b·ªã:</strong> ' + (info.mobile ? 'Di ƒë·ªông' : 'M√°y t√≠nh') + '<br>' +
        '<strong>ƒê·ªô ph√¢n gi·∫£i m√†n h√¨nh:</strong> ' + window.screen.width + 'x' + window.screen.height + '<br>' +
        '<strong>K√≠ch th∆∞·ªõc c·ª≠a s·ªï:</strong> ' + window.innerWidth + 'x' + window.innerHeight;
    }

    // Check all features
    function checkFeatures() {
      var container = document.getElementById('feature-checks');
      var supported = 0;
      var total = features.length;
      var highImportanceSupported = 0;
      var highImportanceTotal = 0;
      
      features.forEach(function(feature) {
        var isSupported = feature.check();
        var statusClass = isSupported ? 'supported' : 'not-supported';
        var statusText = isSupported ? 'H·ªó tr·ª£' : 'Kh√¥ng h·ªó tr·ª£';
        
        if (isSupported) supported++;
        
        if (feature.importance === 'high') {
          highImportanceTotal++;
          if (isSupported) highImportanceSupported++;
        }
        
        var featureDiv = document.createElement('div');
        featureDiv.className = 'feature-check';
        featureDiv.innerHTML = 
          '<span class="feature-name">' + feature.name + 
          (feature.importance === 'high' ? ' ‚≠ê' : '') + '</span>' +
          '<span class="status ' + statusClass + '">' + statusText + '</span>';
        
        container.appendChild(featureDiv);
      });
      
      return {
        total: total,
        supported: supported,
        percentage: Math.round((supported / total) * 100),
        highImportanceSupported: highImportanceSupported,
        highImportanceTotal: highImportanceTotal,
        highImportancePercentage: Math.round((highImportanceSupported / highImportanceTotal) * 100)
      };
    }

    // Display overall score
    function displayOverallScore(results) {
      var container = document.getElementById('overall-score');
      var scoreClass, scoreText, message;
      
      if (results.highImportancePercentage >= 90) {
        scoreClass = 'score-excellent';
        scoreText = 'Tuy·ªát v·ªùi! üéâ';
        message = 'Tr√¨nh duy·ªát c·ªßa b·∫°n h·ªó tr·ª£ ƒë·∫ßy ƒë·ªß website. B·∫°n s·∫Ω c√≥ tr·∫£i nghi·ªám t·ªët nh·∫•t.';
      } else if (results.highImportancePercentage >= 70) {
        scoreClass = 'score-good';
        scoreText = 'T·ªët! üëç';
        message = 'Tr√¨nh duy·ªát c·ªßa b·∫°n h·ªó tr·ª£ h·∫ßu h·∫øt t√≠nh nƒÉng. Website s·∫Ω ho·∫°t ƒë·ªông t·ªët.';
      } else {
        scoreClass = 'score-poor';
        scoreText = 'C·∫ßn c·∫≠p nh·∫≠t! ‚ö†Ô∏è';
        message = 'Tr√¨nh duy·ªát c·ªßa b·∫°n thi·∫øu nhi·ªÅu t√≠nh nƒÉng quan tr·ªçng. Khuy·∫øn ngh·ªã c·∫≠p nh·∫≠t.';
      }
      
      container.className = 'overall-score ' + scoreClass;
      container.innerHTML = 
        '<div>' + scoreText + '</div>' +
        '<div style="font-size: 14px; margin-top: 10px;">' + message + '</div>' +
        '<div style="font-size: 12px; margin-top: 5px; opacity: 0.8;">' +
        'T√≠nh nƒÉng quan tr·ªçng: ' + results.highImportanceSupported + '/' + results.highImportanceTotal + 
        ' (' + results.highImportancePercentage + '%)' +
        '</div>';
    }

    // Show recommendations
    function showRecommendations(results) {
      if (results.highImportancePercentage < 90) {
        var container = document.getElementById('recommendations');
        var textContainer = document.getElementById('recommendation-text');
        
        var recommendations = [];
        
        if (results.highImportancePercentage < 70) {
          recommendations.push('üîÑ <strong>C·∫≠p nh·∫≠t tr√¨nh duy·ªát</strong> l√™n phi√™n b·∫£n m·ªõi nh·∫•t');
          recommendations.push('üíª Th·ª≠ s·ª≠ d·ª•ng <strong>Chrome, Firefox, Safari, ho·∫∑c Edge</strong> phi√™n b·∫£n m·ªõi');
          recommendations.push('üì± Tr√™n di ƒë·ªông, s·ª≠ d·ª•ng tr√¨nh duy·ªát m·∫∑c ƒë·ªãnh ho·∫∑c Chrome Mobile');
        }
        
        if (!features.find(f => f.name === 'Fetch API').check()) {
          recommendations.push('‚ö° Website c√≥ th·ªÉ t·∫£i ch·∫≠m h∆°n do thi·∫øu Fetch API');
        }
        
        if (!features.find(f => f.name === 'CSS Grid').check()) {
          recommendations.push('üìê Layout c√≥ th·ªÉ hi·ªÉn th·ªã kh√°c so v·ªõi thi·∫øt k·∫ø g·ªëc');
        }
        
        recommendations.push('‚úÖ Website v·∫´n s·∫Ω ho·∫°t ƒë·ªông nh·ªù c√°c t√≠nh nƒÉng d·ª± ph√≤ng ƒë∆∞·ª£c t√≠ch h·ª£p');
        
        textContainer.innerHTML = recommendations.map(r => '<div style="margin: 8px 0;">' + r + '</div>').join('');
        container.style.display = 'block';
      }
    }

    // Initialize check
    function init() {
      displayBrowserInfo();
      var results = checkFeatures();
      displayOverallScore(results);
      showRecommendations(results);
    }

    // Run when page loads
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  </script>
</body>
</html> 